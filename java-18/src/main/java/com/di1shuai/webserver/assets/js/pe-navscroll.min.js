function scrollTo(e,t,n,o){function r(e,t){return t>e?e:t}function i(u){var a=Date.now(),f=r(1,(a-s)/t),d=n(f);l.scrollTop=d*(e-c)+c,1>f?requestAnimationFrame(i):o&&o()}var s=Date.now(),u=/firefox|trident/i.test(navigator.userAgent)?document.documentElement:document.body,l=u,c=l.scrollTop;return c===e?void o():void requestAnimationFrame(i)}function getViewportH(){var e=docElem.clientHeight,t=window.innerHeight;return t>e?t:e}function scrollY(){return window.pageYOffset||docElem.scrollTop}function getOffset(e){var t=0,n=0;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft);while(e=e.offsetParent);return{top:t,left:n}}var peNavScroll=function(){"use strict";window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();var e,t=/firefox|trident/i.test(navigator.userAgent)?document.documentElement:document.body,n=function(n){function o(){[].slice.call(u).forEach(function(t,n){u[n].parentElement.classList.remove(e["class"]),u[n].blur()})}function r(n){if(e.noMenu){if(getOffset(n).top<t.scrollTop+e.offset+2)return n}else if(getOffset(n).top<t.scrollTop+l.offsetHeight+e.offset+2)return n}function i(e){return document.getElementById(/[^#]+$/.exec(e.href)[0])?e:void 0}e={nav:".navbar",duration:900,offset:0,allLinks:!1,hashChange:!0,noMenu:!1,hideOnScroll:!1,hideFn:null,showFn:null,"class":"active",easingFunction:function(e){return e}};for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s]);var u,l=document.querySelector(e.nav),c=e.allLinks?document.querySelectorAll('a[href^="#"]'):l.querySelectorAll("a"),a=0,f="";c=[].slice.call(c).filter(i),u=[].slice.call(l.querySelectorAll("a")).filter(i);for(var d=c.length,h=u.map(function(e,t){var n=document.getElementById(/[^#]+$/.exec(u[t].href)[0]);return void 0!==n?n:void 0});d--;)document.getElementById(/[^#]+$/.exec(c[d].href)[0])&&c[d].addEventListener("click",function(n){var o=t.scrollTop,r=/[^#]+$/.exec(this.href)[0],i=t.scrollHeight-window.innerHeight,s=e.noMenu?document.getElementById(r).getBoundingClientRect().top-e.offset:document.getElementById(r).getBoundingClientRect().top-(l.offsetHeight+e.offset),u=i>o+s?s:i-o,c=e.duration;scrollTo(o+u,c,e.easingFunction,function(){}),e.hashChange&&(history.pushState?history.pushState(null,null,"#"+r):location.hash="#"+r),n.preventDefault()});var m="",g=function(n){var i=(t.scrollHeight-window.innerHeight,h.filter(r));if(i.length){i=i[i.length-1];var s=i.id;f!==s&&(f=s,o(),l.querySelector('[href="#'+s+'"]').parentElement.classList.add(e["class"])),getViewportH()+scrollY()>=t.scrollHeight&&(o(),u[u.length-1].parentElement.classList.add(e["class"]))}else o(),f="";if(e.hideOnScroll){if(Math.abs(a-scrollY())<=50)return;scrollY()>a?("function"==typeof e.hideFn&&"hide"!=m&&(m="hide",e.hideFn()),l.classList.add("nav-hide"),l.classList.remove("nav-show")):("function"==typeof e.showFn&&"show"!=m&&(m="show",e.showFn()),scrollY()+getViewportH()<t.scrollHeight&&(l.classList.remove("nav-hide"),l.classList.add("nav-show"))),getViewportH()+scrollY()>t.scrollHeight-100&&(l.classList.remove("nav-hide"),l.classList.add("nav-show")),a=scrollY()}};window.addEventListener("scroll",g)};return{init:n}}(),easing={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}},docElem=window.document.documentElement;